(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.SlateAutoReplace=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var toString=Object.prototype.toString;module.exports=function(val){switch(toString.call(val)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof val=="object"&&val&&typeof val.length=="number"){try{if(typeof val.callee=="function")return"arguments"}catch(ex){if(ex instanceof TypeError){return"arguments"}}}if(val===null)return"null";if(val===undefined)return"undefined";if(val&&val.nodeType===1)return"element";if(val===Object(val))return"object";return typeof val}},{}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var IS_MAC=typeof window!="undefined"&&window.navigator&&window.navigator.platform&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform);var CONVENIENCE={cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta","↩":"enter","⇧":"shift","⌃":"control","⌘":"meta","⌥":"alt",add:"+"};var MODIFIERS={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"};function isHotkey(hotkey,event){var object=parseHotkey(hotkey);return event==null?function(e){return compareHotkey(object,e)}:compareHotkey(object,event)}function parseHotkey(hotkey){hotkey=hotkey.replace("++","+add");var values=hotkey.split("+");var length=values.length;var ret={};for(var k in MODIFIERS){var m=MODIFIERS[k];ret[m]=false}var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=values[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var value=_step.value;value=value.toLowerCase();if(value=="mod"){value=IS_MAC?"cmd":"ctrl"}if(value in CONVENIENCE){value=CONVENIENCE[value]}var _m=MODIFIERS[value];if(length==1||!_m){ret.key=value}if(_m){ret[_m]=true}if(length==1&&!_m){ret.shiftKey=null}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return ret}function compareHotkey(object,event){for(var key in object){var actual=key=="key"?event.key.toLowerCase():event[key];var expected=object[key];if(expected!=null&&actual!=expected)return false}return true}exports.default=isHotkey;exports.isHotkey=isHotkey;exports.parseHotkey=parseHotkey;exports.compareHotkey=compareHotkey},{}],3:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function AutoReplace(){function e(e,r,n){if(a(e))return t(e,r,n)}function t(e,t,o){var a=t.value;if(!a.isExpanded){var l=a.startBlock;if(l){var s=l.type;if((!u||u(s))&&(!f||!f(s))){var c=r(a);if(c){e.preventDefault();var h=a.startOffset,p=0;return n(c,h).forEach(function(e){t.moveOffsetsTo(e.start,e.end).delete(),p+=e.total}),h-=p,t.moveOffsetsTo(h,h),t.call(i,e,c,o)}}}}}function r(e){var t=e.startText,r=e.startOffset,n=t.text,i=null,a=null;if(o.after){i=n.slice(r).match(o.after)}if(o.before){a=n.slice(0,r).match(o.before)}return o.before&&o.after&&!a&&(i=null),o.before&&o.after&&!i&&(a=null),a||i?(i&&(i[0]=i[0].replace(/\s+$/,"")),a&&(a[0]=a[0].replace(/^\s+/,"")),{before:a,after:i}):null}function n(e,t){var r=e.before,n=e.after,o=[],i=0;if(r){var a=r[0],f=0,u=0;r.slice(1,r.length).forEach(function(e){void 0!==e&&(u=a.indexOf(e,u),f=t-i+u-a.length,o.push({start:f,end:f+e.length,total:e.length}),i+=e.length,u+=e.length)})}if(n){var l=n[0],s=0,c=0;n.slice(1,n.length).forEach(function(e){void 0!==e&&(c=l.indexOf(e,c),s=t-i+c,o.push({start:s,end:s+e.length,total:0}),i+=e.length,c+=e.length)})}return o}var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=o.transform,a=normalizeTrigger(o.trigger),f=void 0,u=void 0;if(o.ignoreIn&&(f=normalizeMatcher(o.ignoreIn)),o.onlyIn&&(u=normalizeMatcher(o.onlyIn)),!i)throw new Error("You must provide a `transform` option.");if(!a)throw new Error("You must provide a `trigger` option.");return{onKeyDown:e}}function normalizeTrigger(e){switch((0,_typeOf2.default)(e)){case"function":return e;case"regexp":return function(t){return!(!t.key||!t.key.match(e))};case"string":return(0,_isHotkey2.default)(e)}}function normalizeMatcher(e){switch((0,_typeOf2.default)(e)){case"function":return e;case"array":return function(t){return e.includes(t)};case"string":return function(t){return t==e}}}Object.defineProperty(exports,"__esModule",{value:!0});var _isHotkey=require("is-hotkey"),_isHotkey2=_interopRequireDefault(_isHotkey),_typeOf=require("type-of"),_typeOf2=_interopRequireDefault(_typeOf);exports.default=AutoReplace},{"is-hotkey":2,"type-of":1}]},{},[3])(3)});
